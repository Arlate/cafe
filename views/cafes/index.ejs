<% layout('layouts/boilerplate') %>

    <head>
        <link rel="stylesheet" href="./styles.css">
        <link rel="stylesheet" href="./infinite-style.css">
    </head>
    <div id="map" style="width: 100%; height:60vh;"></div>
    <div class="container">
        <div class="row">
            <div id="card-container"></div>
            <div id="loader">
                <div class="skeleton-card"><div class="loader-icon"></div></div>
            </div>
            <div class="card-actions">
                <span>Showing
                    <span id="card-count"></span> of
                    <span id="card-total"></span> cards
                </span>
            </div>
        </div>
    </div>


    <script>
        const cafesForMap = { features: <%- JSON.stringify(cafes) %> };
        const mapToken = "<%= mapsToken %>";
        const cafesForCards = <%- JSON.stringify(cafes) %>;
    </script>
    <script src="/clusterMap.js"></script>
    <script src="/infiniteScroll.js"></script>